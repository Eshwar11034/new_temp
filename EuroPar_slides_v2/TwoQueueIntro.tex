% Slide: Two-Queue Approach (Introduction - Flow Logic, Final Corrected Layout)
\begin{frame}{Our Solution: Asynchronous Two-Queue Scheduling}
  \vspace{-3mm}
  \begin{minipage}[c][\textheight][c]{0.45\textwidth}
    \vspace*{\fill}
    \begin{block}{The Problem with Barriers}
      Barriers are inefficient because they force fast threads to idle. The key to better performance is to eliminate this synchronous waiting.
    \end{block}

    \begin{alertblock}{The Two-Queue Solution}
      Our approach replaces global barriers with two shared, lock-free queues that manage the flow of tasks based on their readiness:
      \begin{itemize}
        \item \textbf{\alert{Main Queue}:} Holds tasks that are ready for execution.
        \item \textbf{\alert{Wait Queue}:} A holding area for tasks with unmet dependencies.
      \end{itemize}
    \end{alertblock}
    \vspace*{\fill}
  \end{minipage}
  \hfill
  \begin{minipage}[c][\textheight][c]{0.5\textwidth}
    \vspace*{\fill}
    \centering
    \begin{tikzpicture}[font=\small, every node/.style={transform shape}, scale=0.95]
      % Styles
      \tikzset{queue/.style={draw, rectangle, minimum width=3cm, minimum height=1cm, rounded corners=2pt, fill=gray!10, align=center}}
      \tikzset{task/.style={draw, rectangle, rounded corners=1pt, fill=updategreen!70, minimum width=1cm, minimum height=0.6cm}}
      \tikzset{arrow_label/.style={align=center, font=\scriptsize}}
      
      % --- The Queues, positioned vertically on the right ---
      \node[queue] (main) at (0, 1.5) {Main Queue};
      \node[queue] (wait) at (0, -1.5) {Wait Queue};
      
      % --- The Dequeued Task, on the left ---
      \node[task] (task_out) at (-3.5, 0) {$T_{i,j}$};
      
      % --- The Arrows with Corrected Paths and Labels ---
      % 1. Dequeue from Main Queue
      \draw[-{Stealth}, thick] (main.west) -- node[above, arrow_label] {Dequeue (Front)} (task_out.north);
      
      % 2. Move to Wait Queue if not ready
      \draw[-{Stealth}, thick, depred] (task_out.south) to[bend right=60] 
        node[below, arrow_label] {If Dependencies NOT Met} (wait.west);
      \node[anchor=east, font=\tiny] at (wait.west) {\hspace{10mm}Enqueue (Rear)};

      % 3. Promote from Wait Queue if ready
      \draw[-{Stealth}, thick, updategreen] (wait.east) to[bend right=40] 
        node[above, arrow_label] {If Dependencies ARE Met} (main.east);
      \node[anchor=west, font=\tiny] at (main.east) {\hspace{2mm}Enqueue (Rear)};

    \end{tikzpicture}
    \vspace*{\fill}
  \end{minipage}

\end{frame}