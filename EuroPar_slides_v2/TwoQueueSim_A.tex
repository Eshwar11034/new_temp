% Simulation Slide 1: The Initial State
\begin{frame}{Simulation: The Two-Queue Scheduler in Action}
  \begin{columns}[c,onlytextwidth] % Vertically centered

    % ----- LEFT: The text explaining the current state -----
    \column{0.4\textwidth}
    \begin{block}{Let's Begin the Simulation}
      The system starts with all threads idle in the pool and both queues empty.
    \end{block}

    \begin{alertblock}<2->{State A: Initial Task}
      The first pivot task, \textbf{$T_{1,1}$}, is the only task with no dependencies.
      \vspace{2mm}
      It is placed at the \textbf{front} of the Main Queue, ready to be dequeued.
    \end{alertblock}

    % ----- RIGHT: The diagram showing the initial state -----
    \column{0.6\textwidth}
    \centering
    \begin{tikzpicture}[font=\scriptsize, every node/.style={transform shape}, scale=0.95]
      % Styles
      \tikzset{pool/.style={draw, thick, ellipse, fill=accent!15, minimum width=3.2cm, minimum height=2.4cm, align=center}}
      \tikzset{thread_icon/.style={draw, circle, fill=accent!30, minimum size=0.5cm}}
      \tikzset{task_ready/.style={draw, rectangle, rounded corners=1pt, fill=updategreen!70, minimum width=1cm, minimum height=0.6cm}}
      \tikzset{queue_box/.style={draw, thick, fill=gray!10}}
      
      % --- The Worker Thread Pool ---
      \node[pool] (pool) at (2.5, 0) {};
      \node[thread_icon] at ($(pool.center)+(0, -0.7)$) {\tiny T1};
      \node[thread_icon] at ($(pool.center)+(0.4,0.5)$) {\tiny T2};
      \node[thread_icon] at ($(pool.center)+(-0.5, 0.5)$) {\tiny T3};
      \node[thread_icon] at ($(pool.center)+(-1.1, -0.3)$) {\tiny T4};
      \node[thread_icon] at ($(pool.center)+(1.1, -0.3)$) {\tiny T5};
      \node[anchor=north] at (pool.south) {Thread Pool};

      % --- The Queues ---
      \node[anchor=south] at (-1.5, 2.5) {Main Queue};
      \draw[queue_box] (-3.5, 1.8) rectangle (0.5, 2.4);
      \node[font=\tiny] at (-3.5, 1.5) {(Front)};
      \node[font=\tiny] at (0.5, 1.5) {(Rear)};
      \node[anchor=south] at (-1.5, -1.0) {Wait Queue};
      \draw[queue_box] (-3.5, -1.7) rectangle (0.5, -2.3);
      \node[font=\tiny] at (-3.5, -2.6) {(Front)};
      \node[font=\tiny] at (0.5, -2.6) {(Rear)};

      % --- Animation: The initial task appears on the second click ---
      \node<2->[task_ready] at (-3, 2.1) {$T_{1,1}$};
      
    \end{tikzpicture}
  \end{columns}
\end{frame}