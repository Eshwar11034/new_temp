% Slide: The Target Sequential Algorithm (Revised) - CORRECTED
\begin{frame}{The Sequential QR Algorithm}
	
	\pause 
	\begin{columns}[c,onlytextwidth] % Vertically center the columns
	
	 % ----- LEFT: The algorithm, with key kernels highlighted -----
	 \column{0.53\textwidth} % CHANGED: Balanced columns to 0.5 each for even layout
	 \begin{block}{Triangular loop execution pattern}
		 \footnotesize % Use a slightly smaller font to ensure it fits well
		 \begin{algorithmic}[1]
		 \State \textbf{Input:} $A$, a $m \times n$ non-singular real matrix. % CHANGED: Added math mode for "m Ã— n" for better rendering
		 \For{$i = 1$ \textbf{to} $m$}
			 % Highlight the pivot kernel in blue
			 \State $(up, b) \gets \textcolor{pivotblue}{\Call{\texttt{update\_pivot\_row}}{A, i}}$
			 %\State $(up, b) \gets \textcolor{pivotblue}{\Call{update\_pivot\_row}{A, i}}$
			 \For{$j = i+1$ to $n$}
			 	% Highlight the update kernel in green
			 	\State \textcolor{updategreen}{\Call{\texttt{update\_trailing\_non\_pivot\_row}}{A, i, j, up}}
			 \EndFor
		 \EndFor
		 \State \textbf{Output:} Matrix $A$ in upper-triangular form.
		 \end{algorithmic}
	 \end{block}
	
	\pause 
	% ----- RIGHT: Explanation focused on dependency, not memory layout -----
	\column{0.43\textwidth} % CHANGED: Balanced columns to 0.5 each for even layout
	\begin{block}{Key Characteristics}
	This is the algorithm at the core of the SLSQP bottleneck. It performs  QR factorization using two main computational kernels: % CHANGED: Added "in-place" to align with paper's emphasis on storing intermediates for SLSQP
	\begin{itemize}
		\item \textcolor{pivotblue}{\texttt{update\_pivot\_row}}\normalcolor % CHANGED: Removed unnecessary line break for better readability
		\item \textcolor{updategreen}{\texttt{update\_trailing\_\\
				non\_pivot\_row}} \normalcolor % CHANGED: Removed manual line break; let LaTeX wrap naturally
	\end{itemize}
	\vspace{2mm}
	It has a classic nested-loop structure with a critical \textbf{data dependency} across iterations. % CHANGED: Added "across iterations" for precision, matching paper's dependency discussion
	\end{block}
	 
	\end{columns}
\end{frame}
