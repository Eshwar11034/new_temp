% Slide 10 — Two-Queue Scheduler: Demo (D — promote from wait after pivot)
\begin{frame}{Two-Queue Scheduler — Demo (D: Promote from Wait)}
\small
\begin{columns}[T,onlytextwidth]
  \column{0.46\textwidth}
  \begin{block}{State D}
    \begin{tightitem}
      \item $T_{1,2}$ finishes $\Rightarrow$ pivot $T_{2,2}$ is enqueued to \textbf{main} and executed.
      \item Promotion step sees $T_{2,3}$ now ready $\Rightarrow$ move \textbf{wait}$\to$\textbf{main}.
      \item Row-2 updates will then be spawned into \textbf{main} as they become ready.
    \end{tightitem}
  \end{block}

  \column{0.54\textwidth}
  \centering
  \begin{tikzpicture}[x=0.45cm,y=0.45cm,>=Stealth, every node/.style={transform shape,font=\scriptsize}]
    \tikzset{queue/.style={draw,rounded corners=0pt}}
    \tikzset{ready/.style={draw,fill=updategreen!65,rounded corners=1pt}}
    \tikzset{waitt/.style={draw,fill=gray!25,rounded corners=1pt}}
    \tikzset{qlabel/.style={draw,white,fill=white,inner sep=2pt}}

    % Main (now has T22 and promoted T23)
    \draw[queue,gray!70] (0,10) -- (18,10);
    \draw[queue,gray!70] (0,8.7) -- (18,8.7);
    \node[qlabel,anchor=east] at (17.5,9.35) {Main Queue};
    \node[ready,minimum width=1.8cm,minimum height=0.7cm] at (3.0,9.35) {$T_{2,2}$};
    \node[ready,minimum width=1.8cm,minimum height=0.7cm] at (5.4,9.35) {$T_{2,3}$};

    % Wait (now empty in this snapshot)
    \draw[queue,gray!70] (0,3.7) -- (18,3.7);
    \draw[queue,gray!70] (0,2.4) -- (18,2.4);
    \node[qlabel,anchor=east] at (17.5,3.05) {Wait Queue};

    % Arrow showing promotion wait -> main
    \draw[-{Stealth},gray!70,thick] (5.4,3.6) -- (5.4,8.8);
  \end{tikzpicture}
\end{columns}
\end{frame}
