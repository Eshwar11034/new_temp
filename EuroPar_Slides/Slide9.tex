% Slide 9 — Two-Queue Scheduler: Demo (C — dequeue check -> wait)
\begin{frame}{Two-Queue Scheduler — Demo (C: Dequeued \& Not Ready $\Rightarrow$ Wait)}
\small
\begin{columns}[T,onlytextwidth]
  \column{0.46\textwidth}
  \begin{block}{State C}
    \begin{tightitem}
      \item $T_{1,3}$ finishes and enqueues $T_{2,3}$ to \textbf{main}.
      \item A worker dequeues $T_{2,3}$ but its parent $T_{2,2}$ is not done yet.
      \item \textbf{Policy:} pushed to \textbf{wait} (will be promoted later).
    \end{tightitem}
  \end{block}

  \column{0.54\textwidth}
  \centering
  \begin{tikzpicture}[x=0.45cm,y=0.45cm,>=Stealth, every node/.style={transform shape,font=\scriptsize}]
    \tikzset{queue/.style={draw,rounded corners=0pt}}
    \tikzset{ready/.style={draw,fill=updategreen!65,rounded corners=1pt}}
    \tikzset{waitt/.style={draw,fill=gray!25,rounded corners=1pt}}
    \tikzset{qlabel/.style={draw,white,fill=white,inner sep=2pt}}

    % Main (T14 still there; T23 was popped and moved)
    \draw[queue,gray!70] (0,10) -- (18,10);
    \draw[queue,gray!70] (0,8.7) -- (18,8.7);
    \node[qlabel,anchor=east] at (17.5,9.35) {Main Queue};
    \node[ready,minimum width=1.8cm,minimum height=0.7cm] at (3.0,9.35) {$T_{1,4}$};

    % Wait (now holds T23)
    \draw[queue,gray!70] (0,3.7) -- (18,3.7);
    \draw[queue,gray!70] (0,2.4) -- (18,2.4);
    \node[qlabel,anchor=east] at (17.5,3.05) {Wait Queue};
    \node[waitt,minimum width=1.8cm,minimum height=0.7cm] at (5.0,3.05) {$T_{2,3}$};

    % Arrow showing move main -> wait
    \draw[-{Stealth},gray!70,thick] (5.0,8.7) -- (5.0,3.6);
  \end{tikzpicture}
\end{columns}
\end{frame}
